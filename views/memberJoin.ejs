<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Join as a member</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <%- include("partials/navbar.ejs") %>
    <main class="member-join-container">
      <% if(locals.status) {%>
      <h2><%= status %></h2>
      <% } %> <% if(!locals.user) { %>
      <h4>Login before joining the club <a href="/login">Login</a></h4>
      <% } %> <% if(locals.user && locals.user.is_member !== 'true' &&
      locals.user.is_admin !== 'true') { %>
      <form action="/member-join" method="POST">
        <label
          ><input
            type="text"
            name="clubSecret"
            id="clubSecret"
            placeholder="Enter secret code"
        /></label>
        <%- include("partials/errors.ejs") %>
        <button type="submit">Join the club</button>
      </form>
      <% } %>
    </main>

    <%- include("partials/footer.ejs") %>

    <script>
      const hamburger = document.body.querySelector(".hamburger");

      hamburger.addEventListener("click", () => {
        const navbar = document.body.querySelector("nav");
        navbar.style.display =
          navbar.style.display === "flex" ? "none" : "flex";
      });
    </script>
  </body>
</html>
